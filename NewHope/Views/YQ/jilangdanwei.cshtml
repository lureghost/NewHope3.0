
@{
    ViewBag.Title = "jilangdanwei";
    Layout = "~/Views/New/Index.cshtml";
}
<link href="~/layui/css/layui.css" rel="stylesheet" />
<link href="~/bootstrap-3.3.7-dist/css/bootstrap.min.css" rel="stylesheet" />
<script src="~/Scripts/jquery-3.4.1.js"></script>
<script src="~/layui/layui.js"></script>
<script src="~/layui/layui.all.js"></script>
<div style="width:1307px;height:40px;text-align:left;background-color:#EFEFEF;">
    <div style="position:relative;top:8px;margin-left:20px;">
        <a style="color: #016fa7;" href="javascript:void(0)"><span class="glyphicon glyphicon-home" style="color:black"></span>   首页</a> <i>></i>
        <a style="color: #016fa7;" href="javascript:void(0)">基本资料</a> <i>></i>
        <a style="color:#016fa7;" href="javascript:void(0)">计量单位</a>
    </div>


</div>
<div class="layui-col-md12">
    <div class="layui-card" style="margin:0px;padding:0px;">
        <div class="layui-card-header" style="width:1260px;">
            <p style="font-weight:bolder"><span class="glyphicon glyphicon-globe"></span>计量单位</p>
            <div style="height:30px;float:right;margin-top:-53px;">
                <button href="#" class="layui-btn layui-btn-normal" style="height:30px;border-radius:6px;background-color:#006dcc" onclick="show()"><span class="glyphicon glyphicon-pencil"></span> 新增</button>
                <button href="#" class="layui-btn layui-btn-normal" style="height:30px;border-radius:6px;background-color:#da4f49"><span class="glyphicon glyphicon-trash"></span>  删除</button>
                <button href="#" class="layui-btn layui-btn-normal" style="height:30px;border-radius:6px;background-color:#49afcd"><span class="glyphicon glyphicon-download"></span>  导出</button>
            </div>
        </div>
        <br />
        <div class="layui-card-body">
            <form class="navbar-form navbar-left" role="search">
                <div class="form-group">
                    <input type="text" class="form-control" placeholder="请输入单位编号或名称">
                </div>
                <button type="submit" class="btn btn-default" style="background-color:#49afcd;color:white;"><span class="glyphicon glyphicon-search"></span>   搜索</button>
            </form>
            <table class="layui-table" style="color: black;">
            <colgroup>
                <col width="150">
                <col width="200">
                <col>
            </colgroup>
            <thead>
                <tr>
                    <th style="font-weight:bolder;">序号</th>
                    <th style="font-weight: bolder;">编号</th>
                    <th style="font-weight:bolder;">名称</th>
                    <th style="font-weight:bolder;">操作</th>
                </tr>
            </thead>
            <tbody id="tb1"></tbody>
        </table>
           
            <br />
            共12行，每页
            <div style="margin-top:-28px;margin-left:95px;">
                <select class="form-control" style="width:50px;height:30px;">
                    <option value="1">1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>

            </div>
            <div style="float:right;margin-top:-25px;">
                <button type="button" class="layui-btn layui-btn-primary layui-btn-sm">首页</button>
                <button type="button" class="layui-btn layui-btn-primary layui-btn-sm">1</button>
                <button type="button" class="layui-btn layui-btn-primary layui-btn-sm">尾页</button>

            </div>

            <div id="nb" hidden>
               
                <br />
                <span style="margin-left:30px">编号&nbsp;&nbsp;<input type="text" name="bh" readonly="readonly" placeholder="自动生成,可不填" /></span>
                <br />
                <br />
                <span style="margin-left:30px">名称&nbsp;&nbsp;<input type="text" name="mc" placeholder="请输入计量单位名称" /></span>
                <br />
                <br />
                @*<div class="layui-input-inline" style="margin-left:30px">
                供应商类型&nbsp;&nbsp;
                <select name="quiz3">
                    <option value="">请选择</option>
                    <option value="产品仓库">虚拟供应商</option>
                    <option value="产品仓库">合作供应商</option>
                </select>

                    
            </div>*@
                @*<button id="bntSub" class="layui-btn layui-btn-primary layui-btn-sm" style="margin-left:240px;">确定</button>
                <button  class="layui-btn layui-btn-primary layui-btn-sm">关闭</button>*@

            </div>
        </div>
    </div>
</div>

<script>
$(function () {
     GetAll();
 });
    //查询所有
    function GetAll() {
        alert("111");
        $.ajax({
            type: "POST",
            url: "/YQ/measurementQurey",
            data: "",
            dataType: "json",
            contentType: "Application/json",
            success: function (result) {
             
                $("#tb1 tr").remove();
                //获取总条数
                $.each(result, function (index, data) {

                    $("#tb1").append("<tr><td>" + data.XID + "</td><td>" + data.MID + "</td><td>" + data.MName + "</td><td><input id='Button1' class='btn btn- success' type='button' value='删除' onclick='Dell(" + data.id + ")'  /><a class='btn btn-warning' href='/Demo/Update?id=" + data.id + "'>编辑</a></td></tr>");
                })
            },
        });
       
    }
    //新增
    function show() {
        layer.open({
            type: 1,
            skin: 'layui-layer-demo', //样式类名
            title: ['添加计量单位', 'font-size:18px'],//标题名称，和样式
            area: ['350px', '235px'],//宽高
            shadeClose: true,//是否允许拖拽
            content: $('#nb'), //这里content是一个DOM，注意：最好该元素要存放在body最外层，否则可能被其它的相对元素所影响 内容
            id: 'LAY_layuipro', //随便设置一个id防止重复弹出
            //yes: function (index, layero) {
            //    $.getJSON(url+'/'+)
            //}
            btn: ['提交', '关闭'],
         
            //btn1: function (index, layero) {
            //    var kk = $("#mc").val();
            //    alert(kk);
            //},
            //btn2: function (index, layero) {
            //    this.closeAll();
            //    return false;
            //}
            //,
            //cancel: function (index, layero) {
            //    layer.closeAll();
            //}
            
        });

       
        //Ajax获取
        //$.post('url', {}, function (str) {
        //    layer.open({
        //        type: 1,
        //        content: str //注意，如果str是object，那么需要字符拼接。
        //    });
        //});
    }
</script>